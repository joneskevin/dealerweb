package com.ava.base;

import org.xvolks.jnative.JNative;
import org.xvolks.jnative.Type;
import org.xvolks.jnative.exceptions.NativeException;


public class TestJNative {

	private static JNative jna = null;
	static{
		try {
			//调用Mathc中的Process方法
			jna = new JNative("Match.dll", "Process");
		} catch (NativeException e) {
			e.printStackTrace();
		}
	}

	public static void main(String[] args) throws Exception {
		String regFingertpl = "mspZlnGOn4lzwTQvC3kBLCYNegEgNqt4QRJTq3xBDlISaIE3PJVqgRI0FmRBHzoXYsEWRwdRwRZMCEzBEE8bgEEHuotowSRVGVTBCMGYhkEGR61VgRmIJFkBTrSfiYEISaNcASe8E2PBIlAjREEMrw5tgSozClRBFssMXQEiupF4gRKsk4GBBrYmh4EMPY1PQQZJC1qBGFe/QgEIDw9owTldwkkBC4coLkEGpRc1QQe4zVxBBegHBMIbuWSpFgMRJSYpKyonIhRtXVROSUZEAxEhISQmJSEYCHBiWVROS0gEES8wMDEwLzBET0tHRUNDAxEZGRofHxoPBHBlXllWU1EEETIzNDY3ODtCRkZERURFBBATFRkYFAoBcGdgXFlXBRE2Nzk7PkBCQkA/QUJEBhAWEw8Hd3BpYl5bWQUROjs9P0FFRUE9Oz9BQwcQEw4GdnBqZF9cXAYRP0BCREhLRTo4Oz9DBw8QCwR2cWxmYV0GEUNERkhMUkw5NDc9QQcODgkEdXFsZmEGEEpLTExOUUw2Li04CA0HA3VxbGcHEE9RT1FMSDcpHSEKC3VxCA9WUlRJTncCBQAA/wkPUl5TYW90AQAA/xj4zhi0qVAUIao38 Gw0N1TEZoczad66 9Kfab6JcuEMPGA165kLR2Z3ejcS XUwbH1iFhKQyIHDPmNp5kbIrJ12lIjw1WGsHDuH35zGNj3p/WAqo48feNZjUrNpzt9Ua0lwyZTYGbPfCAMHmndr267hUcvoFAalcdfvz9qObH8MWYf/EOENtTbTr21uCxsdxZRp31TXuS1A6GsaO48pJcXv1hmadVAS/S9uPjJg49LS50O9qxqtuF2ceFfLr4weqmW0Lnv47E7gSh4jVWpzaDP9Db6mACEbdlpdxgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGA==";
		String verFingertpl = "mspYFm1poIQ4ggxXhCzBEFeFQEEHU4hHAgNSCnABD1AKNYELzZEdQg2pFSvBCrIYOYEIMZpQgSC6m3KBA0ucT8JenZ9JgjgFH1nCE2GgP0IKpqEogQSlJlABHtopHwIJnatTQhJzLD6BEJksV4ER1S1DwRMIsW9BCFuyUQEKeDwpQQqPSDpCBYazVIcTAhAkJSMkIh0TBG9hWFNQT00DECAfIBwYDQJwZV1XU1JQAhAmKCcoJyQbBmxdU09NTEsDECAdHBcRCAFxaWFbV1RTAhAsKywsLCojC2VYUEtLSkoDDx0bGRQOBwFya2NdWVYCEC0tLjAxMC03T09LSktJSgQPGBUQCwV3cmxkX1tYAhAvMDE0NjY2O0NISEhKSEkEDhMRDgkEd3JrZGBcAg8vMjU5Ozs7PkJFR0hISAUODgwIBHdxa2ZiXQIPMTU5PkFCQkNERkhJSEgFDg4LBwN3cmxnZWICDzI4P0RHSkpKSktNTUtIBg0JBgN3cm1oZAMOQUdLT1BRUFFTU1NQBwwGBHdzbmgDDlVVVVZWVlZXWFlXVgAA/wQNXVxbWVhZXF1dWQAA/xj42hi0qlAUIdE0/FanWj9i/KKQuLRsznQBsAq3RSvCJWhQUgoptS6+QbWoouDHLW4PS/qD1PgZPuECWGDaCqM1n7PO13vWYSARHiH88Azusur4IV5daktMJsoOywpzv1Icb7fo95aNh0C8bNuxcyoW/l3RyodY/g6DwZo5jU4thUAIQueRsGQvOs+r1NpSu71aoVodEzfN8WGDIKGQeY/+0ws1OxOXiGeONVxCqo+EweYEVnGYZFSy6BW/1ZalBTt3eySRMHcYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGA==";
		
		//String regFingertpl = "mspZFnZ9nqGGQRObpYbBD5+nhAEQmUJdAReZxGQBEJsVSgEPdBZLwRFtrExBRjQsR8EfPKJGwRVdrS3BB0GTW0EGD514AQofKHjBCSg8eAEUoQdwAQcRmIhBFZPAd0EUjTpsQRChoXRBCCKjMAEH0q1YQQyTnVABEHOQTAEGeYk5wQdxj3qBBY7GbcEShS06gQs/uIFBBSeoPEES0qwkQRRSLqRqEwMTVE9NSElIQSYkKSooJyglKCMDE1FLR0JBPjcvKi0tLCoqJysnAxNUUVJPU1lyFBwjJygnJyUpJAQSR0I+Ozk1MC0tLS0rKyowAxJUVVdWXGZ0ChcdIiMjJScxBBJBPjs5NjEvLCwsLSstLTcEEldcXWJsdQcSGh0fHyIpNAUROjk3NTAtKicmKCgrKgQRWF9iaG52Bw8WGRobHSYGEDg1MS4tKSMgIyMpBBFjZWdscQEIDxMWFxgaIQcQMy4tKSQcGRgXHQQRZGlscHUECQ0RFBYXGSEIDyclIBgUEQ8OBBFtb29zdwUJDA8SFRUXHAkPIRgPDAgGBAQRcHJzdQIGCQwPERMSFRwMDgkFAwQRdXZ2dwMGCAsODw4NCxEAAP8FEAEBAQMGCAsNDAkJBwAA/xjwKBm0qVAUIU0pxhciXNdKtXFXT9o4+JzFq4RJq4PYZ8MaigCTFnb6+ip7kdw3s8B1KWWCuxz3Y+MDy+7WzrVNHEdyw4wNt+AW5Xn1n8A3rxw004KIH6P1m6HKvRPXbFAj2rM9WOD5+s5JgaZ2KSf3WC0HGf646wTolmF6lxU1sqX4D2DuCpddvro9AMYHsqFHEs3CoOs/i/IDMK5fZJJqugsUph9ojGzTH0MhVF+HTzbq+sP3jU0XSFZC71wLldMJW0Q9wM+J2Dsz19rlA0oU2VysHNMZJz7jhDhYnnAVB2dzQLdTFgUHV7ky1CWODrslg/k9zBHeVjKSOIf39rzBb9MZc/kCmPJImXS6oyOeE3Ha5PUnOjglLuE+qrmwqR9gvAHFu/4B/iVvJ7Q1Q++cO43+dxgYGBgYGBgYGBgYGBgYGBgYGBgY==";
		//String verFingertpl = "mspZlo61sDglQQk6OiqBBzwdR8FeTx5CASBQIkiBMUWjS4E5MqVMwSI0p09BFCw3coEGI7hqQQYrtXHBB544cEEGn6yGARCmsIyBFJ4xhkEVnzOBgQ2cFh0BB8eaI0EKwTZmwQWeuGnBBqUsSwEHL0FbwQqaJSpBBz27VoEFokBAQQosKkOBBzK/PYEHp7g9gQOnMEZBBKy3MwEJMqAcgQRCmEzBExGWUwEShD93ARI2Q2pBFJoYIUEKRQxTwQ6Ek3eBApukfsEGoIt+gQOaQzuBEJ7HWIEWj7QgQQhDxU3BEps7gMEkNCuEyBICE0FAPjs6OTcyLS0tLSwqKiQjIAITQUA+Ojg2NDEvLi0sKikrKC0mAhJCQUA+Pj47MysqLCwrKyklJAMSPz05NjQyMC4tLCsoJigpMgISQ0JBQUJERC4kJyoqKSgmJScDEj87ODUzMTAtKykpJyQlJzgCEkRDQ0VJUF4NGyMlJycnJigtAxE+Ozg1Mi8tKigmJycmKCwCEUZGR0pQWW8JFyAjJSYmJigEEDk2NDAuKygnJykqLC4CEUhKS1BXYXMIFBwhIyQlJigEEDcxLyoqJiYlJigvNTcCEUtOUlZfaXQGERogIiMkJScFDyUnIyQgISEkKjI1AhFRU1ZcZGx1Bg8XHCAiIiMkBg4iHx0ZGhodJDADEVdbYGlwdwYOFRodISEhIgAA/wMRW2BlbXIBBg0SFxocHBoaAAD/BBBnanB0AQYLEBUYGhgUAAD/GPAuGbSpUBQhpS/OI+mQVC1frm3+KCdsLr09llJD/0zUheihYeD/KmgT0S7CmFQtQ0WpeVuxyEbjUWjw/THFruzrM/68lvghLqb/K9GXDUc5aBPVpA6CIRAuc+fjXcCTwfDV6aqk8W09aU42kimsSQPvWQyoB2/4O4lb3OCRLF3RdAa4B8Fuoub/hl3lOm6YDIZsbmq/eaaqtsE3y/E3hxMhS7Ua1TQI75QJCCUu3kyZ4Mv4LfekM+nDHPs2CSlr4c9A1r4rhXoQtCoIzQLM5lAEB3mLTJcC8gjB3AEu0cA1m0/WXHEs9ib4PZ4+HCo4oDConOYeVoTiAOgUppX0HIUCPQrssyc7TeMMhB1VX0wY7VdAqzsB1Gbl8fw99pltzu1SmcD//AO4s5sndarqDbuhvqENGNEpwB13GBgYGBgYGBgYGBgYGBg=";

		try{
			jna.setRetVal(Type.INT); 
			jna.setParameter(0, Type.STRING, regFingertpl);//设置Process方法中的第一个参数
			jna.setParameter(1, Type.STRING, verFingertpl);//设置Process方法中的第二个参数
			jna.invoke();
			String val = jna.getRetVal();//获取Process方法的返回值
			System.out.println(val);
		}catch(NativeException ne){
			ne.printStackTrace();
		}catch(IllegalAccessException iae){
			iae.printStackTrace();
		} 
		System.out.println("success");
	}
}